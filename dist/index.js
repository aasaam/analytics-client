!async function(U,J){function O(t,e){console.group("aasaam analytics: "+t),console.error(e),console.groupEnd()}var t;if((U.aasaamAnalytics||(U.aasaamAnalytics=function(r){async function t(){return new Promise(function(e){var t=J.createElement("iframe");t.src=r.s+"/i.html?u="+l(U.location.href)+"&nvs="+m,t.setAttribute("aria-hidden","true"),t.width="0",t.tabIndex=-1,t.height="0",t.style.display="none",t.style.visibility="hidden",t.style.border="none",J.body.appendChild(t);var n=setTimeout(function(){e(void 0)},1e3);U.addEventListener("message",function(t){clearTimeout(n),t.data&&t.data.aasaamAnalyticsClientIdentifier&&e(t.data.aasaamAnalyticsClientIdentifier)},!0)})}function e(t,e,n){return U.btoa([t||"t",Math.round(e?e.getTime()/1e3:(new Date).getTime()/1e3).toString(),Math.round((new Date).getTime()/1e3).toString(),n||E()].join(":"))}function i(t){var e=new Date;e.setDate(e.getDate()+365),J.cookie=f+"="+t+";Expires="+e.toUTCString()+";Path=/;SameSite=Lax",localStorage.setItem(f,t)}var o,n,a,c,s,u,l=encodeURIComponent,g=this,d={m:"jsp",i:r.i,u:U.location.href,r:J.referrer},m=r.nvs||3600,f=r.p||"aai",v=[],p=function(t,e,n){t=f+"_"+t;localStorage.setItem(t,JSON.stringify({e:(new Date).getTime()+1e3*n,d:e}))},y=function(t){t=f+"_"+t,t=localStorage.getItem(t);if(t)try{var e=JSON.parse(t);if(e.e>(new Date).getTime())return e.d}catch(t){O("cache",t)}},h=function(t){var e=y("rs");return e||(p("rs",t,m),t)},b=function(t){return t.replace(/[\n\s\r]+/g," ").trim()},S=function(t){var e;try{e=new URL(t)}catch(t){return!1}return"http:"===e.protocol||"https:"===e.protocol},w=function(t,e){U.navigator.sendBeacon(r.s+"/?m="+l(e)+"&i="+l(d.i)+"&mid="+l(d.mid)+"&r="+l(d.r)+"&cn="+l(d.cn)+"&u="+l(d.u),JSON.stringify(t))},A=function(){v.length&&(w({c:C,p:o,e:v},"jse"),v=[])},E=function(){return((new Date).getTime().toString(32)+Math.random().toString(32).substr(2)).substr(0,16)},x=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":toString.call(t)},D=function(t){var e=typeof t;return"string"==e||"object"==e&&null!=t&&!Array.isArray(t)&&"[object String]"==x(t)},I=function(t){try{var e=U.atob(t).match(new RegExp("([a-z]{1}):([a-z0-9]+):([a-z0-9]+):([a-z0-9]+)"));if(e)return[e[1],new Date(1e3*parseInt(e[2],10)),new Date(1e3*parseInt(e[3],10)),e[4]]}catch(t){O("cannot parse client id",t)}return[!1,!1,!1,!1]},T=function(t){return"number"==typeof t&&isFinite(t)},N=async function(){return new Promise(function(t){var e=U.performance;setTimeout(()=>e&&0!==e.navigationStart?void t(e.toJSON()):t(void 0),200)})},j=function(t,e,n){e=void 0===n?t[e]:t[n]-t[e];if(T(e)&&0<=e)return e.toString()},k=async function(){return new Promise(function(e){var t=y("geo");if(t)return e(t);var n=r.glt||604800;navigator.geolocation.getCurrentPosition(function(t){t={lat:t.coords.latitude,lon:t.coords.longitude,acc:t.coords.accuracy};p("geo",t,n),e(t)},function(t){e(void 0)},{maximumAge:1e3*n,timeout:r.gto?1e3*r.gto:1e4,enableHighAccuracy:!0})})},C=function(){try{var t=[],e=localStorage.getItem(f);e&&(t[0]=e);var n=J.cookie.match(new RegExp(f.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")+"=([^;]+)"));if(n&&(t[1]=n[1].trim()),2===t.length&&t[0]===t[1])return t[0];if(1===t.length)return i(t[0]),t[0]}catch(t){}return""}(),R=!0;!C||4===(s=I(C)).length&&!1!==s[0]&&(R=!1,n=(s=I(C))[0],a=s[1],c=s[2],I=s[3],(s=new Date).setTime(s.getTime()-1e3*m),c<s&&(C=e(n,a,I),i(C),t().then(function(t){t&&i(C=t)}))),R&&(C=e(),i(C),t().then(function(t){t&&i(C=t)})),g.getClient=function(){return C},g.pageView=async function(t){t=await async function(t){var e=t||{},n={scr:U.screen.width+"x"+U.screen.height,vps:U.innerWidth+"x"+U.innerHeight,cd:U.screen.colorDepth.toString(),t:b(J.title),k:void 0,rs:void 0,dpr:U.devicePixelRatio?U.devicePixelRatio.toString():"1",if:U.self!==U.top,so:void 0,prf:{},geo:void 0,usr:void 0};U.screen.orientation&&U.screen.orientation.type&&(n.so=U.screen.orientation.type.split("-").map(function(t){return t.substr(0,1)}).join("-"));t=await N();t&&(n.prf.plt=j(t.timing,"navigationStart","loadEventStart"),n.prf.dlt=j(t.timing,"domainLookupStart","domainLookupEnd"),n.prf.tct=j(t.timing,"connectStart","connectEnd"),n.prf.srt=j(t.timing,"requestStart","responseStart"),n.prf.pdt=j(t.timing,"responseStart","responseEnd"),n.prf.rt=j(t.timing,"navigationStart","fetchStart"),n.prf.dit=j(t.timing,"navigationStart","domInteractive"),n.prf.clt=j(t.timing,"navigationStart","domContentLoadedEventStart")),e.url&&(S(e.url)?d.u=e.url:O("URL must valid http(s) uri",e.url)),e.user&&(D(e.user)?n.usr=e.user:O("User name/id must be string",e.user)),!0===e.geo?k().then(function(t){n.geo=t}).catch(function(){}):e.geo&&e.geo.lat&&e.geo.lon&&e.geo.acc&&(n.geo=e.geo);t=J.referrer;(t=e.referrer?e.referrer:t)&&(S(t)?(d.r=t,n.rs=h(t)):O("referrer is not valid URL",r));var r=void 0;e.canonical?r=e.canonical:(a=J.querySelector("link[rel=canonical]"))&&a.hasAttribute("href")&&(r=b(a.getAttribute("href"))),r&&(S(r)?d.cn=r:O("canonical is not valid URL",r)),e.title&&D(e.title)?n.t=e.title:(i=J.querySelector('meta[property="og:title"]'))&&i.hasAttribute("content")&&(n.t=b(i.getAttribute("content")));var i,a=[];return e.keywords?Array.isArray(e.keywords)?a=e.keywords:O("keywords must be array of string",r):(i=J.querySelector("meta[name=keywords]"))&&i.hasAttribute("content")&&(a=b(i.getAttribute("content")).split(",")),a.length&&(n.k=a.map(function(t){return t.trim()}).slice(0,10).join(",")),e.mainID?D(e.mainID)?d.mid=e.mainID:O("main identifier must string",r):(r=J.querySelector("main"))&&r.hasAttribute("data-id")&&(d.mid=r.getAttribute("data-id")),o=JSON.parse(JSON.stringify(n)),n}(t);return w({c:C,p:o=t},"jsp"),U.aae&&Array.isArray(U.aae)&&(U.aae.forEach(function(t){g.event(t)}),U.aae=[]),g},g.event=function(t){return!D(t.category)||t.category.length<1?O('Event "category" must exist and none empty string',t):!D(t.action)||t.action.length<1?O('Event "action" must exist and none empty string',t):void 0===t.label||D(t.label)?void 0!==t.value&&isNaN(t.value)?O('Event "value" must be numeric type',t):(v.push({ec:t.category,ea:t.action,el:t.label||void 0,ev:void 0!==t.value?t.value:void 0}),(50<=v.length?A:L)()):O('Event "label" must be none empty string',t),g},g.crossEvent=function(t,e){if(!D(t.category)||t.category.length<1)return O('Event "category" must exist and none empty string',t),g;if(!D(t.action)||t.action.length<1)return O('Event "action" must exist and none empty string',t),g;if(void 0!==t.label&&!D(t.label))return O('Event "label" must be none empty string',t),g;if(void 0===t.label&&U.location.hostname&&(t.label=U.location.hostname),void 0!==t.value&&isNaN(t.value))return O('Event "value" must be numeric type',t),g;var n="";if(e)n=e;else{if(!r.cei)return O("Cross project public hash not set"),g;n=r.cei}e=void 0;return o.cd&&(e={scr:o.scr,vps:o.vps,cd:o.cd,dpr:o.dpr,if:o.if,so:o.so,prf:o.prf,geo:o.geo}),U.navigator.sendBeacon(r.s+"/?m=jse&i="+encodeURIComponent(n)+JSON.stringify({c:C,p:e,e:[{ec:t.category,ea:t.action,el:t.label||void 0,ev:void 0!==t.value?t.value:void 0}]})),g};var L=function(){U.clearTimeout(u),u=U.setTimeout(function(){A()},1e3)};return r.pv&&g.pageView(!0===r.pv?void 0:r.pv).then().catch(t=>O(t)),g}),!U.aai)&&(J.currentScript&&J.currentScript.hasAttribute("data-i")))try{t=JSON.parse(U.atob(J.currentScript.getAttribute("data-i"))),U.aai=U.aasaamAnalytics(t)}catch(t){O("initialize",t)}}(window,document);