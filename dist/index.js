!async function(R,U){function J(t,e){console.group("aasaam analytics: "+t),console.error(e),console.groupEnd()}var t;if(R.aasaamAnalytics||(R.aasaamAnalytics=function(r){function t(t,e){return R.btoa([Math.round(t?t.getTime()/1e3:(new Date).getTime()/1e3).toString(),Math.round((new Date).getTime()/1e3).toString(),e||A()].join(":"))}function i(t){const e=new Date;e.setDate(e.getDate()+365),U.cookie=m+"="+t+";Expires="+e.toUTCString()+";Path=/;SameSite=lax",localStorage.setItem(m,t)}var o,e,n,a,c,u,s=encodeURIComponent,g=this,l={i:r.i,u:R.location.href,r:U.referrer},d=r.nvs?1e3*r.nvs:3600,m=r.p||"aai",f=[],p=function(t,e,n){t=m+"_"+t;localStorage.setItem(t,JSON.stringify({e:(new Date).getTime()+1e3*n,d:e}))},v=function(t){t=m+"_"+t,t=localStorage.getItem(t);if(t)try{var e=JSON.parse(t);if(e.e>(new Date).getTime())return e.d}catch(t){J("cache",t)}},y=function(t){var e=v("rs");return e||(p("rs",t,d),t)},h=function(t){return t.replace(/[\n\s\r]+/g," ").trim()},S=function(t){var e;try{e=new URL(t)}catch(t){return!1}return"http:"===e.protocol||"https:"===e.protocol},b=function(t,e){R.navigator.sendBeacon(r.s+"/?m="+s(e)+"&i="+s(l.i)+"&mid="+s(l.mid)+"&r="+s(l.r)+"&cn="+s(l.cn)+"&u="+s(l.u),JSON.stringify(t))},w=function(){f.length&&(b({c:N,p:o,e:f},"jse"),f=[])},A=function(){return((new Date).getTime().toString(32)+Math.random().toString(32).substr(2)).substr(0,16)},D=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":toString.call(t)},E=function(t){var e=typeof t;return"string"==e||"object"==e&&null!=t&&!Array.isArray(t)&&"[object String]"==D(t)},k=function(t){return"number"==typeof t&&isFinite(t)},x=async function(){return new Promise(function(t){const e=R.performance;setTimeout(()=>e&&0!==e.navigationStart?void t(e.toJSON()):t(void 0),100)})},T=function(t,e,n){e=void 0===n?t[e]:t[n]-t[e];if(k(e)&&0<=e)return e.toString()},I=async function(){return new Promise(function(e){var t=v("geo");if(t)return e(t);var n=r.glt||604800;navigator.geolocation.getCurrentPosition(function(t){t={lat:t.coords.latitude,lon:t.coords.longitude,acc:t.coords.accuracy};p("geo",t,n),e(t)},function(t){e(void 0)},{maximumAge:1e3*n,timeout:r.gto?1e3*r.gto:1e4,enableHighAccuracy:!0})})},N=function(){try{var t=[],e=localStorage.getItem(m);e&&(t[0]=e);var n=U.cookie.match(new RegExp(m.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")+"=([^;]+)"));if(n&&(t[1]=n[1].trim()),2===t.length&&t[0]===t[1])return t[0];if(1===t.length)return i(t[0]),t[0]}catch(t){}return""}();N?(e=(c=function(t){try{var e=R.atob(t).match(new RegExp("([a-z0-9]+):([a-z0-9]+):([a-z0-9]+)"));if(e)return[new Date(parseInt(e[1],10)),new Date(parseInt(e[2],10)),e[3]]}catch(t){J("cannot parse client id",t)}return[!1,!1,!1]}(N))[0],n=c[1],a=c[2],(c=new Date).setTime(c.getTime()-1e3*d),n<c&&(N=t(e,a),i(N))):(N=t(),i(N)),g.pageView=async function(t){t=await async function(t){var e=t||{},n={scr:R.screen.width+"x"+R.screen.height,vps:R.innerWidth+"x"+R.innerHeight,cd:R.screen.colorDepth.toString(),t:h(U.title),k:void 0,rs:void 0,dpr:R.devicePixelRatio?R.devicePixelRatio.toString():"1",if:R.self!==R.top,so:void 0,prf:{},geo:void 0,usr:void 0};R.screen.orientation&&R.screen.orientation.type&&(n.so=R.screen.orientation.type.split("-").map(function(t){return t.substr(0,1)}).join("-"));t=await x();t&&(n.prf.plt=T(t.timing,"navigationStart","loadEventStart"),n.prf.dlt=T(t.timing,"domainLookupStart","domainLookupEnd"),n.prf.tct=T(t.timing,"connectStart","connectEnd"),n.prf.srt=T(t.timing,"requestStart","responseStart"),n.prf.pdt=T(t.timing,"responseStart","responseEnd"),n.prf.rt=T(t.timing,"navigationStart","fetchStart"),n.prf.dit=T(t.timing,"navigationStart","domInteractive"),n.prf.clt=T(t.timing,"navigationStart","domContentLoadedEventStart")),e.url&&(S(e.url)?l.u=e.url:J("URL must valid http(s) uri",e.url)),e.user&&(E(e.user)?n.usr=e.user:J("User name/id must be string",e.user)),!0===e.geo?I().then(function(t){n.geo=t}).catch(function(){}):e.geo&&e.geo.lat&&e.geo.lon&&e.geo.acc&&(n.geo=e.geo);t=U.referrer;(t=e.referrer?e.referrer:t)&&(S(t)?(l.r=t,n.rs=y(t)):J("referrer is not valid URL",r));var r=void 0;e.canonical?r=e.canonical:(a=U.querySelector("link[rel=canonical]"))&&a.hasAttribute("href")&&(r=h(a.getAttribute("href"))),r&&(S(r)?l.cn=r:J("canonical is not valid URL",r)),e.title&&E(e.title)?n.t=e.title:(i=U.querySelector('meta[property="og:title"]'))&&i.hasAttribute("content")&&(n.t=h(i.getAttribute("content")));var i,a=[];return e.keywords?Array.isArray(e.keywords)?a=e.keywords:J("keywords must be array of string",r):(i=U.querySelector("meta[name=keywords]"))&&i.hasAttribute("content")&&(a=h(i.getAttribute("content")).split(",")),a.length&&(n.k=a.map(function(t){return t.trim()}).slice(0,10).join(",")),e.mainID?E(e.mainID)?l.mid=e.mainID:J("main identifier must string",r):(r=U.querySelector("main"))&&r.hasAttribute("data-id")&&(l.mid=r.getAttribute("data-id")),o=JSON.parse(JSON.stringify(n)),n}(t);return b({c:N,p:o=t},"jsp"),R.aae&&Array.isArray(R.aae)&&(R.aae.forEach(function(t){g.event(t)}),R.aae=[]),g},g.event=function(t){return!E(t.category)||t.category.length<1?J('Event "category" must exist and none empty string',t):!E(t.action)||t.action.length<1?J('Event "action" must exist and none empty string',t):void 0===t.label||E(t.label)?void 0!==t.value&&isNaN(t.value)?J('Event "value" must be numeric type',t):(f.push({ec:t.category,ea:t.action,el:t.label||void 0,ev:void 0!==t.value?t.value:void 0}),(50<=f.length?w:j)()):J('Event "label" must be none empty string',t),g};var j=function(){R.clearTimeout(u),u=R.setTimeout(function(){w()},1e3)};return r.pv&&g.pageView(!0===r.pv?void 0:r.pv).then().catch(t=>J(t)),g}),!R.aai)try{t=JSON.parse(R.atob(U.currentScript.getAttribute("data-i"))),R.aai=R.aasaamAnalytics(t)}catch(t){J("initialize",t)}}(window,document);